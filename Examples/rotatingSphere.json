{"version":"0.0.1","author":"NuSan","code":"\nfunction rot(x,y,a)\n local ca,sa=cos(a),sin(a)\n return x*ca-y*sa,x*sa+y*ca\nend\n\nfunction usecam(x,y,z)\n x,y=rot(x,y,getTime())\n y,z=rot(y,z,getTime()*0.7)\n return x,y,z\nend\n\nfunction dpoint(x,y,z,c)\n x,y,z=usecam(x,y,z)\n local proj = 1/(1+z)\n x = x*proj;\n y = y*proj;\n point(x,y,c)\nend\n\nfunction dline(x,y,z,x2,y2,z2,c)\n x,y,z=usecam(x,y,z)\n x2,y2,z2=usecam(x2,y2,z2)\n local proj = 1/(1+z)\n x = x*proj;\n y = y*proj;\n local proj2 = 1/(1+z2)\n x2 = x2*proj2;\n y2 = y2*proj2;\n line(x,y,x2,y2,c)\nend\n\nfunction drawsphere(x,y,z,s,c)\n local stepx,stepy=10,10\n for i=0,stepx-1 do\n  local ai = pi*2*i/stepx\n  local cai,sai=cos(ai),sin(ai)\n  local ai2 = pi*2*(i+1)/stepx\n  local cai2,sai2=cos(ai2),sin(ai2)\n  for j=0,stepy-1 do\n   local aj = pi*((j+0.0)/stepy-0.5)\n   local aj2 = pi*((j+1.0)/stepy-0.5)\n   local caj,saj=cos(aj),sin(aj)\n   local caj2,saj2=cos(aj2),sin(aj2)\n   local sx,sy,sz=x+cai*caj*s, y+saj*s, z+sai*caj*s\n   dline(sx,sy,sz\n       , x+cai2*caj*s, y+saj*s, z+sai2*caj*s, c);\n   dline(sx,sy,sz\n       , x+cai*caj2*s, y+saj2*s, z+sai*caj2*s, c);\n   dpoint(sx,sy,sz, 1.0);\n  end\n end\nend\n\nfunction update()\n local t=getTime()\n drawsphere(0,0,0,0.7,0.2)\nend\n"}